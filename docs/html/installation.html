<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Strateole 2 Project: Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Strateole 2 Project"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Strateole 2 Project
   </div>
   <div id="projectbrief">HaaseResearchGroup@UCSD</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('installation.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#s1">Method 1: Installing on BeagleBone Blue and Black from Clean Image (Recommended)</a><ul><li class="level2"><a href="#s1ss1">(Method 1 continued) Additional step for BB Black and Black wireless running Robotics Cape</a></li>
<li class="level2"><a href="#s1ss2">(Method 1 continued) Booting from SD Card Without Flashing</a></li>
</ul>
</li>
<li class="level1"><a href="#s2">Method 2: Install from Debian Package or Repository</a></li>
<li class="level1"><a href="#s3">Method 3: Installing From Source</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="s1"></a>
Method 1: Installing on BeagleBone Blue and Black from Clean Image (Recommended)</h1>
<p>Stable Robot Control library releases are pre-installed with the BeagleBoard images. We recommend BeagleBone Black and Black Wireless users run the 2018-7-15 image or newer. Flasher SD card images available here:</p>
<p><a href="https://rcn-ee.net/rootfs/bb.org/testing/2018-07-15/stretch-iot/BBBL-blank-debian-9.5-iot-armhf-2018-07-15-4gb.img.xz">2018-7-15 BeagleBone Blue Flasher Image</a></p>
<p><a href="https://rcn-ee.net/rootfs/bb.org/testing/2018-07-15/stretch-iot/BBB-blank-debian-9.5-iot-armhf-2018-07-15-4gb.img.xz">2018-7-15 BeagleBone Black Flasher Image</a></p>
<p>On first boot after flashing a clean image the package will be installed but not configured yet. Manually configure the package with:</p>
<div class="fragment"><div class="line">sudo dpkg-reconfigure roboticscape</div></div><!-- fragment --><p>This reconfiguration step will let you configure a program to run on boot.</p>
<h2><a class="anchor" id="s1ss1"></a>
(Method 1 continued) Additional step for BB Black and Black wireless running Robotics Cape</h2>
<p>The reconfiguration step also promps the user for permission to perform the necessary step of setting up the Robotics Cape device tree for BeagleBone Black and Black Wireless.</p>
<p>After the reconfiguration step, reboot to load the new device tree. After reboot, check that the right device tree is loaded with the rc_model program which will print something like this:</p>
<div class="fragment"><div class="line">debian@beaglebone:~$ sudo reboot</div><div class="line">.</div><div class="line">.</div><div class="line">.</div><div class="line">debian@beaglebone:~$ rc_model</div><div class="line"></div><div class="line">Currently running on a:</div><div class="line">BB_BLACK_RC</div></div><!-- fragment --><p>On the BeagleBone Blue, expect it to say BB_BLUE. If you are using the RoboticsCape on a BealgeBone Black or Black Wireless, make sure it says BB_BLACK_RC or BB_BLACK_W_RC. If it doesn't show the RC suffix then you either did not reboot after reconfiguring the package, or something weird happened and you should manually set the device tree with the following.</p>
<div class="fragment"><div class="line">debian@beaglebone:~$ sudo configure_robotics_dt</div><div class="line">debian@beaglebone:~$ sudo reboot</div></div><!-- fragment --><h2><a class="anchor" id="s1ss2"></a>
(Method 1 continued) Booting from SD Card Without Flashing</h2>
<p>You can boot a BeagleBone Blue or Black from an SD card without flashing over the eMMC memory in the BeagleBone by writing this non-flashing image to an SD card:</p>
<p><a href="https://rcn-ee.net/rootfs/bb.org/testing/2018-07-15/stretch-iot/bone-debian-9.5-iot-armhf-2018-07-15-4gb.img.xz">2018-7-15 BeagleBone SD image</a></p>
<p>However, this does NOT update the BeagleBone Bootloader which may result in non-functioning PRU and ADC modules. It is safer to just flash the BeagleBone as described above.</p>
<p>You can check if everything is functioning correctly with the rc_test_drivers program.</p>
<div class="fragment"><div class="line">debian@beaglebone:~$ rc_test_drivers</div><div class="line"></div><div class="line">Kernel: 4.14.54-ti-r63</div><div class="line">BeagleBoard.org Debian Image 2018-07-15</div><div class="line">Debian: 9.5</div><div class="line"></div><div class="line">PASSED: gpio 0</div><div class="line">PASSED: gpio 1</div><div class="line">PASSED: gpio 2</div><div class="line">PASSED: gpio 3</div><div class="line">PASSED: pwm1</div><div class="line">PASSED: pwm2</div><div class="line">PASSED: eqep0</div><div class="line">PASSED: eqep1</div><div class="line">PASSED: eqep2</div><div class="line">PASSED: pru-rproc</div><div class="line">PASSED: uart1</div><div class="line">PASSED: uart2</div><div class="line">PASSED: uart4</div><div class="line">PASSED: uart5</div><div class="line">PASSED: i2c1</div><div class="line">PASSED: i2c2</div><div class="line">PASSED: spi</div><div class="line">PASSED: LED</div><div class="line">PASSED: ADC iio</div></div><!-- fragment --><h1><a class="anchor" id="s2"></a>
Method 2: Install from Debian Package or Repository</h1>
<p>BeagleBoard.org graciously hosts the latest stable librobotcontrol package in their repositories. On a BeagleBoard product, install like any other package with:</p>
<div class="fragment"><div class="line">sudo apt update &amp;&amp; sudo apt install librobotcontrol</div></div><!-- fragment --><p>The package can easily be updated from there with:</p>
<div class="fragment"><div class="line">sudo apt update &amp;&amp; sudo apt upgrade librobotcontrol</div></div><!-- fragment --><p>On other platforms, we provide 32bit armhf and 64-bit x86_64 debian packages on the <a href="https://github.com/StrawsonDesign/librobotcontrol/releases">releases page</a>. These can be downloaded and installed like any debian package. Obviuosly change the name of the file in the command below to match that of the file you downloaded.</p>
<div class="fragment"><div class="line">sudo dpkg -i librobotcontrol_1.0.0_amd64.deb</div></div><!-- fragment --><h1><a class="anchor" id="s3"></a>
Method 3: Installing From Source</h1>
<p>To help beta-test and to stay with the latest library version you can either clone this repo and run 'make &amp;&amp; sudo make install', or download and install the latest debian package from the <a href="https://github.com/StrawsonDesign/librobotcontrol/releases">releases</a> page. A debian package is the safer option.</p>
<p>An installer script exists to help compile and install from source.</p>
<div class="fragment"><div class="line">debian@beaglebone:~/librobotcontrol$ ./install.sh</div><div class="line"></div><div class="line">This install script is just to help install from source.</div><div class="line">If you are running <span class="keyword">this</span> on a BeagleBone we recommend running</div><div class="line">the version which comes packaged and preinstalled in the</div><div class="line">official BeagleBone images. Please visit <span class="keyword">this</span> link <span class="keywordflow">for</span> details:</div><div class="line"></div><div class="line">http:<span class="comment">//strawsondesign.com/docs/robotcontrol/</span></div><div class="line"></div><div class="line">To <span class="keywordflow">continue</span>, enter 1 to compile and install on BeagleBone</div><div class="line">enter 2 <span class="keywordflow">for</span> other platforms (Raspberry Pi, x86, etc..)</div></div><!-- fragment --><p>Option 2 will only install the library and examples, whereas option 1 will also do the following beaglebone-specific steps: compile and install PRU binaries, enable systemd services, setup uEnv.txt to enable the Robotics Cape device tree if running on a beaglebone black or black wireless.</p>
<p>You can manually setup the device tree outside of this script with the following command, although this is not necessary when using the install.sh helper script. This is not necessary for the BeagleBone Blue or when installing a debian package.</p>
<div class="fragment"><div class="line">sudo configure_robotics_dt.sh</div><div class="line">sudo reboot</div></div><!-- fragment --><p>To revert to the standard device tree, replace uEnv.txt with the backup that was created by the previous step.</p>
<div class="fragment"><div class="line">sudo cp /boot/uEnv.txt.backup /boot/uEnv.txt</div><div class="line">sudo reboot</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
